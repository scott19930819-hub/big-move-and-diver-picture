# 异动解读生图工具

一个用于生成股票异动解读图表的Web应用工具，支持PNG和SVG格式导出。

## 📋 项目概述

本工具可以将股票异动数据转换为美观的可视化图表，支持多种导出格式，适用于财经分析、报告制作等场景。

## ✨ 功能特点

- 📊 **数据可视化**: 将JSON格式的股票数据转换为直观的图表
- 🎨 **美观界面**: 现代化的UI设计，支持响应式布局
- 📥 **多格式导出**: 支持PNG位图和SVG矢量图导出
- 🔄 **实时预览**: 输入数据后即时生成图表预览
- 🛡️ **错误处理**: 完善的CDN备用机制和错误提示
- 📱 **移动适配**: 支持移动设备访问和操作

## 📁 文件结构

```
异动解读生图/
├── movers_layout_modular.html    # 主HTML界面文件
├── movers_generator.js           # JavaScript逻辑模块
├── movers_layout.html           # 原始单文件版本（已废弃）
└── README.md                    # 项目说明文档
```

## 🚀 使用方法

### 1. 打开应用
直接在浏览器中打开 `movers_layout_modular.html` 文件。

### 2. 输入数据
在"股票数据"文本框中输入JSON格式的数据，格式如下：

```json
{
  "title": "今日异动股票",
  "stocks": [
    {
      "symbol": "AAPL",
      "name": "苹果公司",
      "change": "+5.23%",
      "driver": "iPhone销量超预期，Q4财报表现强劲"
    },
    {
      "symbol": "TSLA",
      "name": "特斯拉",
      "change": "-3.45%",
      "driver": "产能扩张计划延迟，市场担忧情绪升温"
    }
  ]
}
```

### 3. 生成图表
点击"🎨 生成图表"按钮，系统将自动解析数据并生成可视化图表。

### 4. 导出图片
- 点击"📥 下载PNG"导出位图格式
- 点击"📥 下载SVG"导出矢量图格式

## 🛠️ 技术实现

### 前端技术栈
- **HTML5**: 页面结构和语义化标签
- **CSS3**: 现代化样式设计，支持渐变、阴影、动画
- **JavaScript ES6+**: 模块化编程，异步处理
- **html2canvas**: PNG图片生成库
- **SVG**: 矢量图形生成

### 核心功能模块

#### 1. 数据处理模块
- JSON数据解析和验证
- 股票信息格式化
- 错误数据处理

#### 2. 图表生成模块
- 动态DOM元素创建
- 股票卡片布局生成
- 样式应用和主题设置

#### 3. 导出功能模块
- PNG格式：使用html2canvas库截图
- SVG格式：DOM转SVG矢量图
- 文件下载和命名

#### 4. 错误处理模块
- CDN加载失败备用方案
- 用户输入验证
- 友好错误提示

### 架构设计

```
┌─────────────────────────────────────┐
│           用户界面层                 │
│    (movers_layout_modular.html)     │
├─────────────────────────────────────┤
│           业务逻辑层                 │
│      (movers_generator.js)          │
├─────────────────────────────────────┤
│           第三方库层                 │
│    (html2canvas, 字体, CDN)         │
└─────────────────────────────────────┘
```

## 🎯 自定义与扩展

### 修改样式
在HTML文件的`<style>`标签中修改CSS样式：
- 调整颜色主题
- 修改字体和尺寸
- 自定义布局和间距

### 添加数据字段
在JavaScript模块中扩展数据处理逻辑：
1. 修改JSON数据结构
2. 更新DOM生成函数
3. 调整样式适配新字段

### 新增导出格式
在导出模块中添加新的格式支持：
- PDF格式导出
- Excel数据导出
- 图片水印功能

## ⚠️ 注意事项

1. **网络依赖**: 需要网络连接加载字体和CDN库
2. **浏览器兼容**: 建议使用现代浏览器（Chrome、Firefox、Safari、Edge）
3. **数据格式**: 严格按照JSON格式输入数据
4. **文件大小**: 大量数据可能影响生成速度

## 🔮 未来计划

- [ ] 添加更多图表类型（柱状图、折线图）
- [ ] 支持实时数据接口
- [ ] 增加更多导出格式（PDF、Excel）
- [ ] 添加数据模板和预设
- [ ] 支持批量处理功能
- [ ] 添加图表动画效果

## 📄 版本历史

### v2.0.0 (当前版本)
- 重构为模块化架构
- 分离HTML和JavaScript代码
- 改进错误处理机制
- 优化代码结构和可维护性

### v1.0.0
- 初始版本，单文件架构
- 基础图表生成功能
- PNG和SVG导出支持

---

**开发者**: AI助手  
**最后更新**: 2024年1月